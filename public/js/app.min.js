"use strict";var Task=function(a,b,c,d){this.id=ko.observable(a),this.subject=ko.observable(b),this.body=ko.observable(c),this.group_id=ko.observable(d)},ViewModel=function(){var a=this;a.task=new Task(null,null,null,1),a.tasks=ko.observableArray(),a.selectedTask,a.alertSuccessMessage=ko.observable(),a.alertErrorMessage=ko.observable(),a.listTask=function(){$.ajax({url:"/api/v1/tasks",success:function(b){a.tasks(b.map(function(a){return new Task(a.id,a.subject,a.body,a.group.id)}))},error:function(a){console.log(a)}})}.bind(a),a.findTask=function(b){a.selectedTask=b,a.task.id(b.id()),a.task.subject(b.subject()),a.task.body(b.body()),a.task.group_id(b.group_id()),$("#taskModal").modal("show")}.bind(a),a.createTask=function(){$.ajax({url:"/api/v1/tasks",method:"POST",contentType:"application/json",data:ko.toJSON({task:a.task}),success:function(b){console.log(b),a.tasks.push(new Task(b.id,b.subject,b.body,b.group_id)),a.cancelTask(),a.alertSuccessMessage("success")},error:function(b){console.log(b),a.alertErrorMessage("error")}})}.bind(a),a.editTask=function(){$.ajax({url:"/api/v1/tasks/"+a.task.id(),method:"PATCH",contentType:"application/json",data:ko.toJSON({task:a.task}),success:function(b){console.log(b),a.selectedTask.subject(b.subject),a.selectedTask.body(b.body),a.selectedTask.group_id(b.group.id),a.cancelTask(),a.alertSuccessMessage("success")},error:function(b){console.log(b),a.alertErrorMessage("error")}})}.bind(a),a.cancelTask=function(){a.task.id(null),a.task.subject(null),a.task.body(null),a.task.group_id(1),$("#taskModal").modal("hide")}.bind(a),a.deleteTask=function(){$.ajax({url:"/api/v1/tasks/"+a.task.id(),method:"DELETE",success:function(b){console.log(b),a.tasks.remove(a.selectedTask),a.cancelTask(),a.alertSuccessMessage("success")},error:function(b){console.log(b),a.alertErrorMessage("error")}})}.bind(a)};
//# sourceMappingURL=app.map